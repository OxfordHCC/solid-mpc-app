<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Solid MPC</title>
  <script defer src="./index.js"></script>
  <link rel="stylesheet" href="basic.css" />
</head>

<body>
  <header>
    <h1>MPC (Multi-Party Computation) in Solid</h1>
  </header>

  <section id="info" class="panel">
    <div class="row">
      <p>
      This app is a showcase of the proposed decentralized MPC architecture on <a href="https://solidproject.org/" target="_blank">Solid</a>.
      <br/>
      Computation is performed on specified computation agents, and encryption is done by the encryption agents, both are specified in the users' configuration (in WebID).
      </p>
    </div>
  </section>

  <section id="user-login" class="panel">
    <div id="login" class="row">
      <label id="labelIdP" for="select-idp">Login to your Identity Provider to read private resources (optional)</label>
      <br />
      <select id="select-idp" name="select-idp">
        <option value="">--Input or select an Identity Provider (IdP)--</option>
        <option value="https://solidcommunity.net">https://solidcommunity.net (Solid Community)</option>
        <option value="https://login.inrupt.com">https://login.inrupt.com (PodSpaces)</option>

      </select>
      <input type="text" id="textIdP">
      <button name="btnLogin" id="btnLogin">Login</button>
    </div>
    <div id="user" class="row" hidden>
      <p>Hello</p>
      <label id="user-webid"></label>
    </div>
  </section>

  <section id="dummy-data-input" class="panel">
    <div class="row">
      <p>Create dummy resource</p>
    </div>
    <div class="row">
      <label for="res_file">URL to store resource description file</label>
      <input type="text" id="res_file" size=80 value="https://renyuneyun.solidcommunity.net/private/mpc-benchmark/resources.ttl" /><br />
      <label for="dummy_data_dir">Directory for dummy data</label>
      <input type="text" id="dummy_data_dir" size=80 value="https://renyuneyun.solidcommunity.net/private/mpc-benchmark/dummy-data" /><br />
      <label for="dummy_data">Dummy data</label>
      <input type="text" id="dummy_data" size=80 value="5" /><br />
      <label for="count_dummy_data">Number of dummy users</label>
      <input type="text" id="count_dummy_data" /><br />
      <label for="count_dummy_data">Number of encryption agents</label>
      <input type="text" id="count_enc_agent" /><br />
      <label for="enc_agent_webid">Encryption Agent WebIDs</label>
      <textarea id="enc_agent_webid" rows="3" cols="50">https://renyuneyun.solidweb.org/profile/card#me</textarea><br />
      <label for="app_user_webid">MPC App User WebIDs</label>
      <textarea id="app_user_webid" rows="3" cols="50">https://renyuneyun.solidcommunity.net/profile/card#me</textarea><br />
      <button id="write-to-pod">Write To Pod</button>
    </div>
  </section>

  <section id="job-input" class="panel">
    <div class="row">
      <p>Input job information</p>
    </div>
    <div id="mpc-job-info" class="row">
      <!-- <form action="" method="post" onsubmit="onSubmitUserJobInput(this);return false;"> -->
      <form id="mpc-job-form" action="" method="post">
        <label for="res_desc">URL to resource description (data sources)</label>
        <input type="text" id="res_desc" name="res_desc" size=100 /><br>
        <label for="num_comp_agent">Number of computation agents to use</label>
        <input type="text" id="num_comp_agent" name="num_comp_agent" size=10 value="3"/><br>
        <label for="merge_comp_agent">Choose protocol</label>
        <input type="radio" id="intersection" name="merge_comp_agent" value="intersection" checked />
        <label for="shamir">Intersection</label>
        <input type="radio" id="union" name="merge_comp_agent" value="union" />
        <label for="union">Union</label>
        <br>
        <label for="comp_protocol">Choose protocol</label>
        <input type="radio" id="shamir" name="comp_protocol" value="shamir" checked />
        <label for="shamir">Shamir</label>
        <input type="radio" id="mascot" name="comp_protocol" value="mascot" />
        <label for="mascot">Mascot</label>
        <br>
        <label for="comp_jobs">Choose computation job</label>
        <input type="radio" id="sum" name="comp_job" value="sum" checked />
        <label for="sum">Sum</label>
        <input type="radio" id="multiply" name="comp_job" value="multiply" />
        <label for="multiply">Multiply</label>
        <input type="radio" id="average" name="comp_job" value="average" checked />
        <label for="average">Average</label>
        <br>
        <input type="submit" value="Run">
      </form> 
    </div>
  </section>

  <section id="request-response" class="panel">
    <div class="row">
      <label for="num-dp">Number of data providers</label>
      <input id="num-dp" cols="10"></textarea>
      <br />
      <label for="enc-srvs">Encryption Servers</label>
      <textarea id="enc-srvs" rows="4" cols="50"></textarea>
      <br />
      <label for="comp-srvs">Computation Servers</label>
      <textarea id="comp-srvs" rows="3" cols="50"></textarea>
      <br />
      <label for="allocate">Player allocation status</label>
      <textarea id="allocate" rows="3" cols="50"></textarea>
      <br />
      <label for="res-player">Player dispatch status</label>
      <textarea id="res-player" rows="3" cols="50"></textarea>
      <br />
      <label for="res-client">Client dispatch status</label>
      <textarea id="res-client" rows="3" cols="50"></textarea>
      <br />
      <label for="result-client">Client computation status</label>
      <textarea id="result-client" rows="3" cols="50"></textarea>
      <br />
      <label for="result">Computation result</label>
      <textarea id="result" rows="3" cols="50"></textarea>
    </div>
  </section>

</body>

</html>
